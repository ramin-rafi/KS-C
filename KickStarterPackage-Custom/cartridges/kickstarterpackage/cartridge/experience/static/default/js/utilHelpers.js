/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./cartridges/kickstarterpackage/cartridge/client/default/js/utilHelpers.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./cartridges/kickstarterpackage/cartridge/client/default/js/components/googleAnalytics.js":
/*!*************************************************************************************************!*\
  !*** ./cartridges/kickstarterpackage/cartridge/client/default/js/components/googleAnalytics.js ***!
  \*************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n\r\n/**\r\n * converts the array of products into required format\r\n * @param {boolean} recommendation - true if its for recommendation\r\n * @param {number} tilesFrom - strat of tiles\r\n * @param {number} tilesTo = end of tiles\r\n * @returns {array} - array of required structure\r\n */\r\nfunction getProducts(recommendation, tilesFrom, tilesTo) {\r\n    var list = $('.category-search-breadcrumbs').attr('data-breadcrumbPath');\r\n    if (!list) {\r\n        list = 'Product Recommendations';\r\n    }\r\n    var productsObj = [];\r\n    var $selector = $('.product-details-gtm');\r\n    if (tilesFrom !== undefined && tilesTo) {\r\n        $selector = $('.product-details-gtm').slice(tilesFrom, tilesTo);\r\n    }\r\n    if (recommendation === true) {\r\n        $selector = $('div[id^=\"cq_recomm_slot\"] .product-details-gtm');\r\n    }\r\n    $selector.each(function (index) {\r\n        var productObj = {\r\n            name: $(this).attr('data-name'),\r\n            id: $(this).attr('data-id'),\r\n            price: $(this).attr('data-price') === 'null' ? null : $(this).attr('data-price'),\r\n            brand: $(this).attr('data-brand') === 'null' ? null : $(this).attr('data-brand'),\r\n            category: $(this).attr('data-category') === 'null' ? null : $(this).attr('data-category'),\r\n            dimension5: $(this).attr('data-dimension5') === 'null' ? null : $(this).attr('data-dimension5'),\r\n            dimension6: $(this).attr('data-dimension6') === 'null' ? null : $(this).attr('data-dimension6'),\r\n            dimension10: $(this).attr('data-dimension10') === 'null' ? null : $(this).attr('data-dimension10'),\r\n            dimension18: $(this).attr('data-dimension18') === 'null' ? null : $(this).attr('data-dimension18'),\r\n            metric1: $(this).attr('data-metric1') === 'null' ? null : $(this).attr('data-metric1'),\r\n            metric3: $(this).attr('data-metric3') === 'null' ? null : $(this).attr('data-metric3'),\r\n            list: list,\r\n            position: tilesFrom ? tilesFrom + index + 1 : index + 1\r\n        };\r\n        $(this).parents('.gtm-tile-subscribed').addClass('imprinted');\r\n        productsObj.push(productObj);\r\n    });\r\n\r\n    return productsObj;\r\n}\r\n\r\n/**\r\n * records the event of product impression\r\n * @param {boolean} recommendation - true if its for recommendation\r\n * @param {boolean} iterateProducts - true if iteration required\r\n * @param {Object} items - products\r\n */\r\nfunction gaProductImpressionObject(recommendation, iterateProducts) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var currencyCode = $('#pixelCurrencyCode').val();\r\n        var gaobj = {\r\n            ecommerce: {\r\n                currencyCode: currencyCode   // Local currency is optional.\r\n            }\r\n        };\r\n        var produtcImpressions;\r\n        if (iterateProducts) {\r\n            gaobj.event = 'productImpression';\r\n            var totalTiles = $('.product-tile .product-details-gtm').length;\r\n            var gaProductsBatchCount = parseInt($('#ga_productsBatchCount').val(), 10);\r\n            var totalIterations = Math.ceil((totalTiles / gaProductsBatchCount)) - 1;\r\n            var tilesTo = 0;\r\n            var tilesFrom = gaProductsBatchCount;\r\n            for (var i = 0; i < totalIterations; i++) {\r\n                tilesTo = tilesFrom + gaProductsBatchCount;\r\n                produtcImpressions = getProducts(recommendation, tilesFrom, tilesTo);\r\n                tilesFrom = tilesTo;\r\n                gaobj.ecommerce.impressions = produtcImpressions;\r\n                dataLayer.push(gaobj);\r\n            }\r\n        } else {\r\n            produtcImpressions = getProducts(recommendation);\r\n            gaobj.ecommerce.impressions = produtcImpressions;\r\n            dataLayer.push(gaobj);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * subscribes the event of product impression\r\n */\r\nfunction subscribeCLPAndBSLPImpressions() {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    var currencyCode = $('#pixelCurrencyCode').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var target = $('.gtm-tile-subscribed:not(.imprinted)');\r\n\r\n        var productsObj = [];\r\n        var productObj = {};\r\n        var count = 0;\r\n        var gaobj = {};\r\n        target.get().forEach(function (recoNode) {\r\n            var index = parseInt($(recoNode).attr('data-tile-index'), 10);\r\n            if (recoNode.getBoundingClientRect().top <= window.innerHeight) {\r\n                count += 1;\r\n                var prod = $(recoNode).find('.product-details-gtm');\r\n                productObj = {\r\n                    name: prod.attr('data-name'),\r\n                    id: prod.attr('data-id'),\r\n                    price: prod.attr('data-price') === 'null' ? null : prod.attr('data-price'),\r\n                    brand: prod.attr('data-brand') === 'null' ? null : prod.attr('data-brand'),\r\n                    category: prod.attr('data-category') === 'null' ? null : prod.attr('data-category'),\r\n                    dimension5: prod.attr('data-dimension5') === 'null' ? null : prod.attr('data-dimension5'),\r\n                    dimension6: prod.attr('data-dimension6') === 'null' ? null : prod.attr('data-dimension6'),\r\n                    dimension10: prod.attr('data-dimension10') === 'null' ? null : prod.attr('data-dimension10'),\r\n                    dimension18: prod.attr('data-dimension18') === 'null' ? null : prod.attr('data-dimension18'),\r\n                    metric1: prod.attr('data-metric1') === 'null' ? null : prod.attr('data-metric1'),\r\n                    metric3: prod.attr('data-metric3') === 'null' ? null : prod.attr('data-metric3'),\r\n                    list: prod.parents('.gtm-crousel-impressions').find('.gtm-carousel-list').length > 0 && prod.parents('.gtm-crousel-impressions').find('.gtm-carousel-list').text() && prod.parents('.gtm-crousel-impressions').find('.gtm-carousel-list').text().length > 0 ? prod.parents('.gtm-crousel-impressions').find('.gtm-carousel-list').text().trim() : 'Product Recommendations',\r\n                    position: index\r\n                };\r\n                if (index === count) {\r\n                    prod.parents('.gtm-tile-subscribed').addClass('imprinted');\r\n                    productsObj.push(productObj);\r\n                } else if (index === 1 && count > index) {\r\n                    gaobj = {\r\n                        event: 'productImpression',\r\n                        ecommerce: {\r\n                            currencyCode: currencyCode,\r\n                            impression: productsObj\r\n                        }\r\n                    };\r\n                    dataLayer.push(gaobj);\r\n                    gaobj = {};\r\n                    count = 1;\r\n                    productsObj = [];\r\n                    prod.parents('.gtm-tile-subscribed').addClass('imprinted');\r\n                    productsObj.push(productObj);\r\n                }\r\n            }\r\n        });\r\n        if (productsObj.length > 0) {\r\n            gaobj = {\r\n                event: 'productImpression',\r\n                ecommerce: {\r\n                    currencyCode: currencyCode,\r\n                    impression: productsObj\r\n                }\r\n            };\r\n            dataLayer.push(gaobj);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * subscribes the event of product impression\r\n */\r\nfunction subscribePLPImpressions() {\r\n    var target = $('.gtm-tile-subscribed:not(.imprinted)');\r\n    var gaProductsBatchCount = parseInt($('#ga_productsBatchCount').val(), 10);\r\n\r\n    target.get().forEach(function (recoNode) {\r\n        var index = parseInt($(recoNode).attr('data-tile-index'), 10);\r\n        if (index % gaProductsBatchCount === 1) {\r\n            if (recoNode.getBoundingClientRect().top <= window.innerHeight) {\r\n                var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n                if (googleAnalyticsEnabled === 'true') {\r\n                    var currencyCode = $('#pixelCurrencyCode').val();\r\n                    var gaobj = {\r\n                        event: 'productImpression',\r\n                        ecommerce: {\r\n                            currencyCode: currencyCode   // Local currency is optional.\r\n                        }\r\n                    };\r\n                    gaobj.ecommerce.impressions = getProducts(false, index - 1, (index + gaProductsBatchCount) - 1);\r\n                    dataLayer.push(gaobj);\r\n                }\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Returns cookie by the given name\r\n * @param {string} name - name of coockie\r\n * @returns {Object} - cookie object or null if not found\r\n */\r\nfunction getCookie(name) {\r\n    // Split cookie string and get all individual name=value pairs in an array\r\n    var cookieArr = document.cookie.split(';');\r\n    // Loop through the array elements\r\n    for (var i = 0; i < cookieArr.length; i++) {\r\n        var cookiePair = cookieArr[i].split('=');\r\n\r\n        /* Removing whitespace at the beginning of the cookie name\r\n        and compare it with the given string */\r\n        if (name === cookiePair[0].trim()) {\r\n            // Decode the cookie value and return\r\n            return decodeURIComponent(cookiePair[1]);\r\n        }\r\n    }\r\n\r\n    // Return null if not found\r\n    return null;\r\n}\r\n\r\n/**\r\n * Trigger Apply Filter GA Event\r\n * @param {Object} args - object containg required data\r\n */\r\nfunction gaApplyFilterObject(args) {\r\n    var gaProductsBatchCount = parseInt($('#ga_productsBatchCount').val(), 10);\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaobj = {\r\n            event: 'filter',\r\n            filterType: args.filterType,\r\n            filterValue: args.filterValue,\r\n            filterAction: args.filterAction,\r\n            ecommerce: {\r\n                impressions: getProducts(false, 0, gaProductsBatchCount)\r\n            }\r\n        };\r\n        dataLayer.push(gaobj);\r\n    }\r\n}\r\n\r\n/**\r\n * Trigger Apply Sorting GA Event\r\n * @param {Object} args - object containg required data\r\n */\r\nfunction gaApplySortingObject(args) {\r\n    var gaProductsBatchCount = parseInt($('#ga_productsBatchCount').val(), 10);\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaobj = {\r\n            event: 'sorting',\r\n            sortingType: args.sortingType,\r\n            ecommerce: {\r\n                impressions: getProducts(false, 0, gaProductsBatchCount)\r\n            }\r\n        };\r\n        dataLayer.push(gaobj);\r\n    }\r\n}\r\n\r\n/**\r\n * Trigger Apply Pagination GA Event\r\n * @param {Object} args - object containg required data\r\n */\r\nfunction gaApplyPaginationObject(args) {\r\n    var gaProductsBatchCount = parseInt($('#ga_productsBatchCount').val(), 10);\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaobj = {\r\n            event: 'pagination',\r\n            newPageNumber: args.newPageNumber,\r\n            currentPageNumber: args.currentPageNumber,\r\n            totalPages: args.totalPages,\r\n            ecommerce: {\r\n                impressions: getProducts(false, 0, gaProductsBatchCount)\r\n            }\r\n        };\r\n        dataLayer.push(gaobj);\r\n    }\r\n}\r\n\r\n/**\r\n * page view event triggering\r\n * @param {Object} members - checkout stages object\r\n * @returns {string} - page type\r\n */\r\nfunction gaPageViewObject(members) {\r\n    var pageViewVal = $('#page-view').val();\r\n    var gaobj = pageViewVal ? JSON.parse(pageViewVal) : '';\r\n    if (gaobj !== '') {\r\n        if ((gaobj.pageType === 'Product' && !gaobj.pageCategory) || gaobj.pageType === 'Brand' || (gaobj.pageType === 'PLP' && (!gaobj.pageCategory || !gaobj.pageSubCategory1 || !gaobj.pageSubCategory2 || !gaobj.pageSubCategory3))) {\r\n            $('.breadcrumb-item a').each(function (index) {\r\n                if (index === 0) {\r\n                    gaobj.pageCategory = $(this).text().trim();\r\n                } else {\r\n                    gaobj['pageSubCategory' + index.toString()] = $(this).text().trim();\r\n                }\r\n            });\r\n        }\r\n        if (gaobj.pageType === 'CLP' && !gaobj.pageCategory && $('.pd-cat').length > 0) {\r\n            gaobj.pageCategory = $('.pd-cat').attr('id').replace('-clp', '');\r\n            gaobj.pageCategory = gaobj.pageCategory.charAt(0).toUpperCase() + gaobj.pageCategory.slice(1);\r\n            if (gaobj.pageCategory.indexOf('beauty') > -1) {\r\n                gaobj.pageCategory = 'Beauty';\r\n            }\r\n        }\r\n\r\n        if (members || (gaobj.pageType === 'Checkout' && $('#checkoutProductList').length > 0)) {\r\n            var isGuestCheckout = false;\r\n            if ($('#checkout-main').data('customer-type') === 'guest') {\r\n                isGuestCheckout = true;\r\n            }\r\n            gaobj.guestCheckout = isGuestCheckout;\r\n            gaobj.checkoutType = $('input[name=isPaypal]').val() === 'true' ? 'Paypal' : 'Standard';\r\n            var productitems = JSON.parse($('#checkoutProductList').val());\r\n            var categoryCorrectionObject = JSON.parse($('#checkoutObject').val());\r\n            Object.keys(productitems).forEach(function (key) {\r\n                productitems[key].category = categoryCorrectionObject[key].category;\r\n            });\r\n            var step = members ? members.currentStage + 1 : null;\r\n            if (!step) {\r\n                var checkoutStages = [\r\n                    'address',\r\n                    'payment',\r\n                    'placeOrder',\r\n                    'submitted'\r\n                ];\r\n                step = checkoutStages.indexOf($('#checkout-main').data('checkout-stage')) + 1;\r\n            }\r\n            var ecommerce = {\r\n                checkout: {\r\n                    actionField: {\r\n                        step: step,\r\n                        option: $('.nav-item.selected').length > 0 ? $('.nav-item.selected a').text().trim() : null\r\n                    },\r\n                    products: productitems\r\n                }\r\n            };\r\n            gaobj.ecommerce = ecommerce;\r\n        }\r\n\r\n        if ($('.product-tile .product-details-gtm').length > 0 && gaobj.pageType !== 'CLP' && gaobj.pageType !== 'Brand') {\r\n            var currencyCode = $('#pixelCurrencyCode').val();\r\n            var gaProductsBatchCount = parseInt($('#ga_productsBatchCount').val(), 10);\r\n            var ecommerceObj = {\r\n                currencyCode: currencyCode,                       // Local currency is optional.\r\n                impressions: getProducts(false, 0, gaProductsBatchCount)\r\n            };\r\n            gaobj.ecommerce = ecommerceObj;\r\n        }\r\n        dataLayer.push(gaobj);\r\n    }\r\n    return gaobj && gaobj.pageType ? gaobj.pageType : null;\r\n}\r\n\r\n/**\r\n * Decides event based on action\r\n */\r\nfunction sendEvent() {\r\n    var pageViewPlusProductDetail = false;\r\n    var action = $('#page-action').val();\r\n    if (action === 'Product-Show') {\r\n        var gaObj = JSON.parse($('#productData').val());\r\n        if ($('.product-tile .product-details-gtm').length > 0) {\r\n            gaObj.ecommerce.impressions = getProducts();\r\n        }\r\n        if ($('#page-view').length > 0) {\r\n            var pageViewObj = JSON.parse($('#page-view').val());\r\n            if (pageViewObj.pageType === 'Product' && !pageViewObj.pageCategory) {\r\n                $('.breadcrumb-item a').each(function (index) {\r\n                    if (index === 0) {\r\n                        pageViewObj.pageCategory = $(this).text().trim();\r\n                    } else {\r\n                        pageViewObj['pageSubCategory' + index.toString()] = $(this).text().trim();\r\n                    }\r\n                });\r\n            }\r\n            if (gaObj && pageViewObj) {\r\n                pageViewPlusProductDetail = true;\r\n                Object.keys(gaObj).forEach(function (key) {\r\n                    if (key !== 'event') {\r\n                        pageViewObj[key] = gaObj[key];\r\n                    }\r\n                });\r\n                gaObj = pageViewObj;\r\n            }\r\n        }\r\n        dataLayer.push(gaObj);\r\n    } else if (action === 'Order-Confirm') {\r\n        dataLayer.push(JSON.parse($('#orderData').val()));\r\n        gaPageViewObject();\r\n    } else if ($('.product-tile .product-details-gtm').length > 0) {\r\n        var pageViewType = null;\r\n        if (pageViewPlusProductDetail === false) {\r\n            pageViewType = gaPageViewObject();\r\n        }\r\n        if (pageViewType !== 'PLP' && pageViewType !== 'CLP' && pageViewType !== 'Brand') {\r\n            gaProductImpressionObject(false, true);\r\n        }\r\n    } else {\r\n        gaPageViewObject();\r\n    }\r\n}\r\n\r\n/**\r\n * Triggers for pdp variation change\r\n */\r\nfunction handleVariantDetailEvent() {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = JSON.parse($('#productData').val());\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * decides if to fire the google analytics event or not\r\n */\r\nfunction handleAction() {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        sendEvent();\r\n    }\r\n}\r\n\r\n/**\r\n * decides if to fire the google analytics event or not\r\n * @param {Object} cookieSetting - cookies state\r\n */\r\nfunction handleConsentChange(cookieSetting) {\r\n    var gaobj = {\r\n        event: 'consentChange',\r\n        analyticsConsent: cookieSetting.analytics,\r\n        marketingConsent: cookieSetting.marketingConsent,\r\n        personalizationConsent: cookieSetting.personalizationConsent,\r\n        GoogleAnalytics: cookieSetting.googleAnalytics,\r\n        facebookTracking: cookieSetting.faceBook,\r\n        GoogleAds: cookieSetting.googleAds\r\n    };\r\n    dataLayer.push(gaobj);\r\n}\r\n\r\n/**\r\n * records the event of add to cart\r\n * @param {Object} item - add to cart item\r\n * @param {Object} quantity - quantity of product\r\n * @param {string} deliveryType - delivery type\r\n * @param {string} deliveryCost - delivery cost\r\n */\r\nfunction gaAddToCartObject(item, quantity, deliveryType, deliveryCost) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var currencyCode = $('#currencyCode').val();\r\n        var gaobj = {\r\n            event: 'addToCart',\r\n            ecommerce: {\r\n                currencyCode: currencyCode,\r\n                add: {\r\n                    products: []\r\n                }\r\n            }\r\n        };\r\n        var productObj = {\r\n            name: item.productName,\r\n            id: item.masterProductId,\r\n            price: item.price.sales.value.toString(),\r\n            brand: item.brand,\r\n            category: item.breadcrumbsPath,\r\n            variant: item.productType === 'variant' ? item.id : null,\r\n            dimension1: item.refinementColor\r\n        };\r\n        productObj.dimension2 = item.productType === 'variant' ? '0' : null;\r\n        if ((item.productType === 'variant' || item.productType === 'standard') && item.quantityATS) {\r\n            if (item.quantityATS.perpetual) {\r\n                productObj.dimension2 = 'perpetual';\r\n            } else if (item.quantityATS.availableToSell) {\r\n                productObj.dimension2 = item.quantityATS.availableToSell;\r\n            }\r\n        }\r\n        productObj.dimension3 = deliveryCost ? deliveryCost.replace(',', '.') : null;\r\n        productObj.dimension4 = deliveryType;\r\n        productObj.dimension5 = null;\r\n        if (item.isNew) {\r\n            productObj.dimension5 = 'Neu';\r\n        } else if (item.percentageOff && item.percentageOff > 0) {\r\n            productObj.dimension5 = item.percentageOff + '%';\r\n        }\r\n        productObj.dimension6 = item.percentageOff && item.percentageOff > 0 ? 'true' : 'false';\r\n        productObj.dimension10 = 'Own';\r\n        productObj.dimension11 = item.size ? item.size : null;\r\n        productObj.dimension18 = item.EAN ? item.EAN : null;\r\n        productObj.metric1 = null;\r\n        if (item.price && item.price.list) {\r\n            productObj.metric1 = item.price.list.decimalPrice.toString();\r\n        } else if (item.price && item.price.sales) {\r\n            productObj.metric1 = item.price.sales.decimalPrice.toString();\r\n        }\r\n        productObj.metric4 = null;\r\n        productObj.quantity = quantity || 1;\r\n        gaobj.ecommerce.add.products.push(productObj);\r\n        dataLayer.push(gaobj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of remove from cart\r\n * @param {Object} item - remove from cart item\r\n * @param {string} deliveryType - delivery type\r\n * @param {string} deliveryCost - delivery cost\r\n */\r\nfunction gaRemoveFromCartObject(item, deliveryType, deliveryCost) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var currencyCode = $('#currencyCode').val();\r\n        var gaobj = {\r\n            event: 'removeFromCart',\r\n            ecommerce: {\r\n                currencyCode: currencyCode,\r\n                remove: {\r\n                    products: []\r\n                }\r\n            }\r\n        };\r\n        var productObj = {\r\n            name: item.productName,\r\n            id: item.masterProductId,\r\n            price: item.price.sales.value.toString(),\r\n            brand: item.brand,\r\n            category: item.breadcrumbsPath,\r\n            variant: item.id,\r\n            quantity: item.quantity,\r\n            dimension1: item.refinementColor\r\n        };\r\n        productObj.dimension2 = '0';\r\n        if (item.quantityATS) {\r\n            if (item.quantityATS.perpetual) {\r\n                productObj.dimension2 = 'perpetual';\r\n            } else if (item.quantityATS.availableToSell) {\r\n                productObj.dimension2 = item.quantityATS.availableToSell;\r\n            }\r\n        }\r\n        productObj.dimension3 = null;\r\n        if (deliveryCost) {\r\n            productObj.dimension3 = deliveryCost.replace(',', '.');\r\n        } else {\r\n            productObj.dimension3 = '0.00';\r\n        }\r\n        productObj.dimension4 = deliveryType;\r\n        productObj.dimension5 = null;\r\n        if (item.isNew === true || item.isNew === 'true') {\r\n            productObj.dimension5 = 'Neu';\r\n        } else if (item.percentageOff && item.percentageOff > 0) {\r\n            productObj.dimension5 = item.percentageOff + '%';\r\n        }\r\n        productObj.dimension6 = item.percentageOff && item.percentageOff > 0 ? 'true' : 'false';\r\n        productObj.dimension10 = 'Own';\r\n        productObj.dimension11 = item.size ? item.size : null;\r\n        productObj.dimension18 = item.EAN ? item.EAN : null;\r\n        productObj.metric1 = null;\r\n        if (item.price && item.price.list) {\r\n            productObj.metric1 = item.price.list.decimalPrice.toString();\r\n        } else if (item.price && item.price.sales) {\r\n            productObj.metric1 = item.price.sales.decimalPrice.toString();\r\n        }\r\n        productObj.metric4 = null;\r\n        gaobj.ecommerce.remove.products.push(productObj);\r\n        dataLayer.push(gaobj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of product click\r\n * @param {Object} item - add to cart item\r\n * @param {Object} fromCart - flag if coming from cart\r\n */\r\nfunction gaClickProductObject(item, fromCart) {\r\n    var list = $('.category-search-breadcrumbs').attr('data-breadcrumbPath');\r\n    if (!list && !fromCart) {\r\n        list = 'Product Recommendations';\r\n    }\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaobj = {\r\n            event: 'productClick',\r\n            ecommerce: {\r\n                click: {\r\n                    actionField: { list: list },      // Optional list property.\r\n                    products: []\r\n                }\r\n            },\r\n            eventCallback: function () {\r\n                document.location = item.url;\r\n            }\r\n        };\r\n        var productObj = {\r\n            name: item.name,\r\n            id: item.id,\r\n            price: item.price,\r\n            brand: item.brand,\r\n            category: item.category,\r\n            dimension5: item.dimension5,\r\n            dimension6: item.dimension6,\r\n            dimension10: item.dimension10,\r\n            dimension18: item.dimension18,\r\n            metric1: item.metric1,\r\n            metric3: item.metric3,\r\n            variant: item.variant,\r\n            position: 1\r\n        };\r\n        gaobj.ecommerce.click.products.push(productObj);\r\n        dataLayer.push(gaobj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event in checkout process\r\n * @param {Object} members - checkout stage information\r\n */\r\nfunction googleanalyticsCheckotEvent(members) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var productitems = JSON.parse($('#checkoutObject').val());\r\n        if (members.currentStage === 0) {\r\n            dataLayer.push({\r\n                event: 'checkout',\r\n                ecommerce: {\r\n                    checkout: {\r\n                        actionField: {\r\n                            step: members.currentStage + 1\r\n                        },\r\n                        products: productitems\r\n                    }\r\n                }\r\n            });\r\n        } else if (members.currentStage === 1) {\r\n            dataLayer.push({\r\n                event: 'paymentInfo',\r\n                ecommerce: {\r\n                    checkout: {\r\n                        actionField: {\r\n                            step: members.currentStage + 1\r\n                        },\r\n                        products: productitems\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * records the event in checkout failure process\r\n * @param {Object} data - checkout error ata\r\n */\r\nfunction checkoutFailure(data) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var isGuestCheckout = false;\r\n        if ($('#checkout-main').data('customer-type') === 'guest') {\r\n            isGuestCheckout = true;\r\n        }\r\n        var errorId = [];\r\n        var errrorText = [];\r\n        if (data.errorCode) {\r\n            errorId.push(data.errorCode);\r\n            if (data.errorMessage) {\r\n                errrorText.push(data.errorMessage);\r\n            }\r\n        }\r\n        var gaObj = {\r\n            event: 'checkoutFailure',\r\n            checkoutType: $('input[name=isPaypal]').val() === 'true' ? 'Paypal' : 'Standard',\r\n            guestCheckout: isGuestCheckout,\r\n            checkoutError: data.errorMessage ? data.errorMessage : null,\r\n            formField: [],\r\n            errorId: errorId,\r\n            errrorText: errrorText\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event in registration failure process\r\n * @param {Object} data - registration error data\r\n */\r\nfunction registrationFailure(data) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'registrationFailure',\r\n            formField: data.formField,\r\n            errorText: data.errorText\r\n        };\r\n        if (data.formField.length !== 0) {\r\n            dataLayer.push(gaObj);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of loyalty card clicks\r\n * @param {Object} data - arguments\r\n */\r\nfunction loyaltyCardClick(data) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'Loyalty Card',\r\n            step: '1_signUp',\r\n            buttonLocation: data\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event in registration success process\r\n * @param {Object} data - registration success data\r\n */\r\nfunction registrationSuccess(data) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'registrationSuccess',\r\n            userId: data.customerNumber,\r\n            LoggedIn: true\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event in login success process\r\n * @param {Object} data - login success data\r\n */\r\nfunction loginSuccess(data) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'loginSuccess',\r\n            eventCategory: 'Login',\r\n            userID: data.customerNumber,\r\n            loggedIn: data.loggedIn\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event in login failure process\r\n * @param {Object} data - login failure data\r\n */\r\nfunction loginFailure(data) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {};\r\n        gaObj = {\r\n            event: 'loginFailure',\r\n            userID: data.customerNumber,\r\n            loggedIn: data.loggedIn,\r\n            errorText: data.error\r\n        };\r\n        if (!data.loggedIn) {\r\n            gaObj.loggedIn = 'false';\r\n        }\r\n        if (!data.customerNumber) {\r\n            gaObj.userID = null;\r\n        }\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of form view\r\n * @param {Object} args - arguments\r\n */\r\nfunction viewOrSubmitForm(args) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: args.event,\r\n            formName: args.formName\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of form failure\r\n * @param {Object} args - arguments\r\n */\r\nfunction failureForm(args) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'formFailure',\r\n            formName: args.formName,\r\n            formField: args.formField,\r\n            errorText: args.errorText\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records search clicks\r\n * @param {Object} args - arguments\r\n */\r\nfunction internalSearch(args) {\r\n    var decodedKeyword;\r\n    if (args.searchKeyword === '') {\r\n        decodedKeyword = null;\r\n    } else {\r\n        decodedKeyword = decodeURI(args.searchKeyword);\r\n    }\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'internalSearch',\r\n            searchTerm: decodedKeyword,\r\n            searchType: args.eventType\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records navigation data\r\n * @param {Object} args - arguments\r\n */\r\nfunction navigationEvents(args) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'navigation',\r\n            navigationType: args.eventType,\r\n            navigationElement: args.eventKeyword\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of contact\r\n * @param {Object} args - arguments\r\n */\r\nfunction contactEvent(args) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'contact',\r\n            contactCategory: args.contactCategory,\r\n            contactLink: args.contactLink\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of links\r\n * @param {Object} args - arguments\r\n */\r\nfunction linkEvent(args) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'links',\r\n            linkCategory: args.linkCategory,\r\n            linkDomain: args.linkDomain,\r\n            linkURL: args.linkURL\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of promotional views\r\n * @param {Object} args - arguments\r\n */\r\nfunction promotionalView(args) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'internalPromotionView',\r\n            ecommerce: {\r\n                promoView: {\r\n                    promotions: args\r\n                }\r\n            }\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of promotional clicks\r\n * @param {Object} args - arguments\r\n */\r\nfunction promotionalClick(args) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'internalPromotionClick',\r\n            ecommerce: {\r\n                promoClick: {\r\n                    promotions: [\r\n                        args\r\n                    ]\r\n                }\r\n            }\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\n/**\r\n * records the event of beauty services clicks\r\n * @param {Object} brand - arguments\r\n */\r\nfunction beautyServicesClicks(brand) {\r\n    var googleAnalyticsEnabled = $('#googleAnalyticsEnabled').val();\r\n    if (googleAnalyticsEnabled === 'true') {\r\n        var gaObj = {\r\n            event: 'Store Service',\r\n            service: 'Beauty Service Appointment',\r\n            brand: brand\r\n        };\r\n        dataLayer.push(gaObj);\r\n    }\r\n}\r\n\r\nexports.getCookie = getCookie;\r\nexports.googleanalyticsCheckotEvent = googleanalyticsCheckotEvent;\r\nexports.gaAddToCartObject = gaAddToCartObject;\r\nexports.handleAction = handleAction;\r\nexports.gaRemoveFromCartObject = gaRemoveFromCartObject;\r\nexports.gaClickProductObject = gaClickProductObject;\r\nexports.gaProductImpressionObject = gaProductImpressionObject;\r\nexports.handleVariantDetailEvent = handleVariantDetailEvent;\r\nexports.handleConsentChange = handleConsentChange;\r\nexports.gaPageViewObject = gaPageViewObject;\r\nexports.checkoutFailure = checkoutFailure;\r\nexports.registrationFailure = registrationFailure;\r\nexports.registrationSuccess = registrationSuccess;\r\nexports.loginSuccess = loginSuccess;\r\nexports.loginFailure = loginFailure;\r\nexports.subscribePLPImpressions = subscribePLPImpressions;\r\nexports.subscribeCLPAndBSLPImpressions = subscribeCLPAndBSLPImpressions;\r\nexports.gaApplyFilterObject = gaApplyFilterObject;\r\nexports.gaApplySortingObject = gaApplySortingObject;\r\nexports.gaApplyPaginationObject = gaApplyPaginationObject;\r\nexports.viewOrSubmitForm = viewOrSubmitForm;\r\nexports.failureForm = failureForm;\r\nexports.internalSearch = internalSearch;\r\nexports.navigationEvents = navigationEvents;\r\nexports.contactEvent = contactEvent;\r\nexports.linkEvent = linkEvent;\r\nexports.promotionalView = promotionalView;\r\nexports.promotionalClick = promotionalClick;\r\nexports.beautyServicesClicks = beautyServicesClicks;\r\nexports.loyaltyCardClick = loyaltyCardClick;\r\n\r\n\n\n//# sourceURL=webpack:///./cartridges/kickstarterpackage/cartridge/client/default/js/components/googleAnalytics.js?");

/***/ }),

/***/ "./cartridges/kickstarterpackage/cartridge/client/default/js/utilHelpers.js":
/*!**********************************************************************************!*\
  !*** ./cartridges/kickstarterpackage/cartridge/client/default/js/utilHelpers.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\r\n\r\nvar googleAnalytics = __webpack_require__(/*! ./components/googleAnalytics */ \"./cartridges/kickstarterpackage/cartridge/client/default/js/components/googleAnalytics.js\");\r\n\r\n/**\r\n * delete cookie value by cookie name from browser\r\n * @param {string} cookieName - name of the cookie\r\n */\r\nfunction deleteCookie(cookieName) {\r\n    document.cookie = cookieName + '=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';\r\n}\r\n\r\n/**\r\n * Get cookie value by cookie name from browser\r\n * @param {string} cookieName - name of the cookie\r\n * @returns {string} cookie value of the found cookie name\r\n */\r\nfunction getCookie(cookieName) {\r\n    var name = cookieName + '=';\r\n    var decodedCookie = decodeURIComponent(document.cookie);\r\n    var cookieArray = decodedCookie.split(';');\r\n    for (var i = 0; i < cookieArray.length; i++) {\r\n        var cookieItem = cookieArray[i];\r\n        while (cookieItem.charAt(0) === ' ') {\r\n            cookieItem = cookieItem.substring(1);\r\n        }\r\n        if (cookieItem.indexOf(name) === 0) {\r\n            return cookieItem.substring(name.length, cookieItem.length);\r\n        }\r\n    }\r\n    return '';\r\n}\r\n\r\n/**\r\n * Set cookie value by cookie name in browser\r\n * @param {string} name - name of the cookie\r\n * @param {string} value - value of the cookie\r\n * @param {string} days - expiry of cookie in days\r\n * @param {string} topLevelDomain - TLD\r\n */\r\nfunction createCookie(name, value, days, topLevelDomain) {\r\n    var expires;\r\n    var domain = '';\r\n\r\n    if (days) {\r\n        var date = new Date();\r\n        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n        expires = '; expires=' + date.toGMTString();\r\n    } else {\r\n        expires = '';\r\n    }\r\n\r\n    if (topLevelDomain && topLevelDomain !== null && topLevelDomain !== 'null') {\r\n        domain = '; domain=' + topLevelDomain;\r\n    }\r\n\r\n    document.cookie = name + '=' + value + expires + domain + '; path=/';\r\n}\r\n\r\n/**\r\n * appends param at the end of sent url\r\n *\r\n * @param {string} url - url with which param to be appended\r\n * @param {string} name - param to be added\r\n * @param {string} value - value of parameter\r\n * @return {string} url with param\r\n */\r\nfunction appendParamToURL(url, name, value) {\r\n    // quit if the param already exists\r\n    if (url.indexOf(name + '=') !== -1) {\r\n        return url;\r\n    }\r\n    var separator = url.indexOf('?') !== -1 ? '&' : '?';\r\n    return url + separator + name + '=' + encodeURIComponent(value);\r\n}\r\n\r\n/**\r\n *\r\n * @param {array} fields - form fields\r\n * @param {Object} buttonClicked - submit button\r\n * @param {boolean} formSubmissionError - flag to check if its from submission form\r\n */\r\nfunction formFilureEventTrigger(fields, buttonClicked, formSubmissionError) {\r\n    var inputs = [];\r\n    var errors = [];\r\n    fields.map(function () {\r\n        if ($(this).hasClass('is-invalid') || $(this).hasClass('mismatch-invalid')) {\r\n            inputs.push($(this).parents('.form-group').find('.form-control-label').text()\r\n                    .trim());\r\n            if ($(this).siblings('.invalid-feedback').length > 0 && $(this).siblings('.invalid-feedback').text()\r\n                    .trim().length > 0) {\r\n                errors.push($(this).siblings('.invalid-feedback').text().trim());\r\n            }\r\n            if ($(this).siblings('span[class$=\"-confirm-data-mismatch-error\"], div[class$=\"-confirm-data-mismatch-error\"], span[id$=\"-confirm-data-mismatch-error\"], div[id$=\"-confirm-data-mismatch-error\"]').length > 0 && $(this).siblings('span[class$=\"-confirm-data-mismatch-error\"], div[class$=\"-confirm-data-mismatch-error\"], span[id$=\"-confirm-data-mismatch-error\"], div[id$=\"-confirm-data-mismatch-error\"]').text().trim().length > 0 && $(this).siblings('span[class$=\"-confirm-data-mismatch-error\"], div[class$=\"-confirm-data-mismatch-error\"], span[id$=\"-confirm-data-mismatch-error\"], div[id$=\"-confirm-data-mismatch-error\"]').text().trim() !== $(this).siblings('.invalid-feedback').text().trim()) {\r\n                errors.push($(this).siblings('span[class$=\"-confirm-data-mismatch-error\"], div[class$=\"-confirm-data-mismatch-error\"], span[id$=\"-confirm-data-mismatch-error\"], div[id$=\"-confirm-data-mismatch-error\"]').text().trim());\r\n            }\r\n        }\r\n        return true;\r\n    });\r\n    if ((inputs.length > 0 && errors.length > 0) || formSubmissionError === true) {\r\n        googleAnalytics.failureForm({\r\n            formName: buttonClicked ? buttonClicked.parents('form').attr('data-form-name') : $(fields[0]).parents('form').attr('data-form-name'),\r\n            formField: inputs,\r\n            errorText: errors\r\n\r\n        });\r\n    } else if (buttonClicked && !buttonClicked.parents('form').hasClass('submitted')) {\r\n        buttonClicked.parents('form').submit();\r\n    }\r\n}\r\n\r\n/**\r\n * Function to check device type of client\r\n * @returns {string} - device type\r\n */\r\nfunction getDeviceType() {\r\n    var isDesktop = $('.menu-toggleable-left').css('position') !== 'absolute';\r\n    var device;\r\n    if (isDesktop) {\r\n        device = 'Desktop';\r\n    } else {\r\n        device = 'Mobile';\r\n    }\r\n    return device;\r\n}\r\n\r\nmodule.exports = {\r\n    createCookie: createCookie,\r\n    getCookie: getCookie,\r\n    appendParamToURL: appendParamToURL,\r\n    formFilureEventTrigger: formFilureEventTrigger,\r\n    deleteCookie: deleteCookie,\r\n    getDeviceType: getDeviceType\r\n};\r\n\n\n//# sourceURL=webpack:///./cartridges/kickstarterpackage/cartridge/client/default/js/utilHelpers.js?");

/***/ })

/******/ });